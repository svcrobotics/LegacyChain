<div class="min-h-screen flex flex-col justify-center items-center space-y-6">
  <h1 class="text-3xl font-bold">🚀 LegacyChain</h1>
  <p class="text-lg text-gray-600">Plateforme sécurisée pour la transmission d’actifs numériques.</p>
  
  <button id="connectButton" class="bg-indigo-600 text-white px-6 py-2 rounded">
    🔐 Se connecter avec MetaMask
  </button>
  <p id="status" class="text-gray-700 mt-4"></p>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const button = document.getElementById("connectButton");
    const status = document.getElementById("status");

    button.addEventListener("click", async () => {
      if (typeof window.ethereum !== 'undefined') {
        try {
          const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
          const address = accounts[0];

          // Redirection vers la page dashboard avec l’adresse en paramètre
          window.location.href = `/dashboard?address=${address}`;
        } catch (err) {
          status.textContent = "❌ Connexion refusée.";
        }
      } else {
        status.textContent = "⚠️ MetaMask n’est pas installé.";
      }
    });
  });
</script>
